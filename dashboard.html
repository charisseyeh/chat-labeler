<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversation Analysis Dashboard</title>
    <!-- CSS Files -->
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/buttons.css">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/dark-mode.css">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <script src="js/header.js"></script>
    <script>
        // Initialize header for dashboard page
        document.addEventListener('DOMContentLoaded', function() {
            initializeHeader({
                title: '<span id="headerTitle">Conversation Analysis Dashboard</span>',
                stats: '<span id="headerMeta"></span>',
                navigation: `
                    <button id="backToLabelerBtn" class="btn btn--outline" onclick="window.location.href='labeler.html'">‚Üê Back to Labeler</button>
                    <button id="exportAllBtn" class="btn btn--accent" onclick="exportAllSafeVersions()">Export All Safe Versions</button>
                `
            });
        });
    </script>

    <div class="dashboard-container">
        <!-- Overview Section -->
        <div class="overview-section">
            <h2>Analysis Overview</h2>
            <div class="overview-stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalConversations">0</div>
                    <div class="stat-label">Total Conversations</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedConversations">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="overallAgreement">0%</div>
                    <div class="stat-label">Overall Agreement</div>
                </div>
                <div class="stat-card">
                    <div class="stat-date" id="dateRange">-</div>
                    <div class="stat-label">Date Range</div>
                </div>
            </div>
        </div>

        <!-- Conversations Grid -->
        <div class="conversations-section">
            <h2>Conversation Analysis</h2>
            <div id="conversationsGrid" class="conversations-grid">
                <!-- Conversations will be loaded here -->
            </div>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="loading-state">
            <div class="spinner"></div>
            <p>Loading conversations...</p>
        </div>

        <!-- No Conversations State -->
        <div id="noConversationsState" class="no-conversations" style="display:none">
            <h3>No conversations found</h3>
            <p>Complete some conversations in the labeler to see analysis results here.</p>
            <button class="btn btn--accent" onclick="window.location.href='labeler.html'">Go to Labeler</button>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/dark-mode.js"></script>
    <script src="js/comparisons.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
